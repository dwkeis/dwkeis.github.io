import{c as R,h as O,a as j}from"./render.31cba5ae.js";import{i as E,k as w,l as T,p as q,c as i,h as s,m as K,g as P,r as d,n as I,q as m,w as N,a as U,t as V,u as A,v as D,x as L,f as x,y as G}from"./index.fcfe2f91.js";import{g as b,Q as J,a as _,u as X}from"./theme.48bc178c.js";import"./dom.dd92ade2.js";var Y=R({name:"QPageContainer",setup(t,{slots:f}){const{proxy:{$q:r}}=P(),n=E(T,w);if(n===w)return console.error("QPageContainer needs to be child of QLayout"),w;q(K,!0);const u=i(()=>{const a={};return n.header.space===!0&&(a.paddingTop=`${n.header.size}px`),n.right.space===!0&&(a[`padding${r.lang.rtl===!0?"Left":"Right"}`]=`${n.right.size}px`),n.footer.space===!0&&(a.paddingBottom=`${n.footer.size}px`),n.left.space===!0&&(a[`padding${r.lang.rtl===!0?"Right":"Left"}`]=`${n.left.size}px`),a});return()=>s("div",{class:"q-page-container",style:u.value},O(f.default))}}),Z=R({name:"QLayout",props:{container:Boolean,view:{type:String,default:"hhh lpr fff",validator:t=>/^(h|l)h(h|r) lpr (f|l)f(f|r)$/.test(t.toLowerCase())},onScroll:Function,onScrollHeight:Function,onResize:Function},setup(t,{slots:f,emit:r}){const{proxy:{$q:n}}=P(),u=d(null),a=d(n.screen.height),y=d(t.container===!0?0:n.screen.width),z=d({position:0,direction:"down",inflectionPoint:0}),v=d(0),l=d(I.value===!0?0:b()),Q=i(()=>"q-layout q-layout--"+(t.container===!0?"containerized":"standard")),H=i(()=>t.container===!1?{minHeight:n.screen.height+"px"}:null),W=i(()=>l.value!==0?{[n.lang.rtl===!0?"left":"right"]:`${l.value}px`}:null),B=i(()=>l.value!==0?{[n.lang.rtl===!0?"right":"left"]:0,[n.lang.rtl===!0?"left":"right"]:`-${l.value}px`,width:`calc(100% + ${l.value}px)`}:null);function F(e){if(t.container===!0||document.qScrollPrevented!==!0){const o={position:e.position.top,direction:e.direction,directionChanged:e.directionChanged,inflectionPoint:e.inflectionPoint.top,delta:e.delta.top};z.value=o,t.onScroll!==void 0&&r("scroll",o)}}function k(e){const{height:o,width:c}=e;let h=!1;a.value!==o&&(h=!0,a.value=o,t.onScrollHeight!==void 0&&r("scrollHeight",o),S()),y.value!==c&&(h=!0,y.value=c),h===!0&&t.onResize!==void 0&&r("resize",e)}function M({height:e}){v.value!==e&&(v.value=e,S())}function S(){if(t.container===!0){const e=a.value>v.value?b():0;l.value!==e&&(l.value=e)}}let g=null;const $={instances:{},view:i(()=>t.view),isContainer:i(()=>t.container),rootRef:u,height:a,containerHeight:v,scrollbarWidth:l,totalWidth:i(()=>y.value+l.value),rows:i(()=>{const e=t.view.toLowerCase().split(" ");return{top:e[0].split(""),middle:e[1].split(""),bottom:e[2].split("")}}),header:m({size:0,offset:0,space:!1}),right:m({size:300,offset:0,space:!1}),footer:m({size:0,offset:0,space:!1}),left:m({size:300,offset:0,space:!1}),scroll:z,animate(){g!==null?clearTimeout(g):document.body.classList.add("q-body--layout-animate"),g=setTimeout(()=>{g=null,document.body.classList.remove("q-body--layout-animate")},155)},update(e,o,c){$[e][o]=c}};if(q(T,$),b()>0){let c=function(){e=null,o.classList.remove("hide-scrollbar")},h=function(){if(e===null){if(o.scrollHeight>n.screen.height)return;o.classList.add("hide-scrollbar")}else clearTimeout(e);e=setTimeout(c,300)},p=function(C){e!==null&&C==="remove"&&(clearTimeout(e),c()),window[`${C}EventListener`]("resize",h)},e=null;const o=document.body;N(()=>t.container!==!0?"add":"remove",p),t.container!==!0&&p("add"),U(()=>{p("remove")})}return()=>{const e=j(f.default,[s(J,{onScroll:F}),s(_,{onResize:k})]),o=s("div",{class:Q.value,style:H.value,ref:t.container===!0?void 0:u,tabindex:-1},e);return t.container===!0?s("div",{class:"q-layout-container overflow-hidden",ref:u},[s(_,{onResize:M}),s("div",{class:"absolute-full",style:W.value},[s("div",{class:"scroll",style:B.value},[o])])]):o}}});const ae=Object.assign({name:"MainLayout"},{__name:"MainLayout",setup(t){const f=X(),r=i(()=>f.getLightTheme);return(n,u)=>{const a=V("router-view");return A(),D(Z,null,{default:L(()=>[x(Y,{class:G(`${r.value?"bg:$(grayscale-10) color:#101010 transition:500ms":"bg:#101010 color:$(grayscale-10) transition:500ms"}`)},{default:L(()=>[x(a)]),_:1},8,["class"])]),_:1})}}});export{ae as default};
