import{ap as Be,aq as Ge,ar as Ve,h as P,as as q,at as Q,Q as Ce,ai as Le,V as C,H as We,aj as qe,C as Qe,an as $e,P as Je,au as et,av as tt,w as ot,E as nt,ak as at,ao as st}from"./three.module.d5637d6c.js";import{o as it,u as ct,v as rt,x as lt,I as ut}from"./index.20a6c904.js";import"./render.fa33e29d.js";class dt{constructor(u,L=" .:-=+*#%@",e={}){const n=e.resolution||.15,s=e.scale||1,N=e.color||!1,i=e.alpha||!1,E=e.block||!1,h=e.invert||!1,T=e.strResolution||"low";let w,y;const f=document.createElement("div");f.style.cursor="default";const d=document.createElement("table");f.appendChild(d);let m,b,x;this.setSize=function(l,M){w=l,y=M,u.setSize(l,M),_()},this.render=function(l,M){u.render(l,M),v(d)},this.domElement=f;function _(){m=Math.floor(w*n),b=Math.floor(y*n),r.width=m,r.height=b,x=u.domElement,x.style.backgroundColor&&(d.rows[0].cells[0].style.backgroundColor=x.style.backgroundColor,d.rows[0].cells[0].style.color=x.style.color),d.cellSpacing=0,d.cellPadding=0;const l=d.style;l.whiteSpace="pre",l.margin="0px",l.padding="0px",l.letterSpacing=p+"px",l.fontFamily=j,l.fontSize=re+"px",l.lineHeight=X+"px",l.textAlign="left",l.textDecoration="none"}const D=" .,:;i1tfLCG08@".split(""),se=" CGO08@".split(""),j="courier new, monospace",Z=u.domElement,r=document.createElement("canvas");if(!r.getContext)return;const A=r.getContext("2d");if(!A.getImageData)return;let Y=N?se:D;L&&(Y=L);const re=2/n*s,X=2/n*s;let p=0;if(T=="low")switch(s){case 1:p=-1;break;case 2:case 3:p=-2.1;break;case 4:p=-3.1;break;case 5:p=-4.15;break}if(T=="medium")switch(s){case 1:p=0;break;case 2:p=-1;break;case 3:p=-1.04;break;case 4:case 5:p=-2.1;break}if(T=="high")switch(s){case 1:case 2:p=0;break;case 3:case 4:case 5:p=-1;break}function v(l){A.clearRect(0,0,m,b),A.drawImage(Z,0,0,m,b);const M=A.getImageData(0,0,m,b).data;let O="";for(let K=0;K<b;K+=2){for(let B=0;B<m;B++){const z=(K*m+B)*4,F=M[z],G=M[z+1],J=M[z+2],ee=M[z+3];let V,te;te=(.3*F+.59*G+.11*J)/255,ee==0&&(te=1),V=Math.floor((1-te)*(Y.length-1)),h&&(V=Y.length-V-1);let U=Y[V];(U===void 0||U==" ")&&(U="&nbsp;"),N?O+="<span style='color:rgb("+F+","+G+","+J+");"+(E?"background-color:rgb("+F+","+G+","+J+");":"")+(i?"opacity:"+ee/255+";":"")+"'>"+U+"</span>":O+=U}O+="<br/>"}l.innerHTML=`<tr><td style="display:block;width:${w}px;height:${y}px;overflow:hidden">${O}</td></tr>`}}}const je={type:"change"},de={type:"start"},Ae={type:"end"},ce=new Be,De=new Ge,mt=Math.cos(70*We.DEG2RAD);class pt extends Ve{constructor(u,L){super(),this.object=u,this.domElement=L,this.domElement.style.touchAction="none",this.enabled=!0,this.target=new P,this.cursor=new P,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minTargetRadius=0,this.maxTargetRadius=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.05,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!0,this.keyPanSpeed=7,this.zoomToCursor=!1,this.autoRotate=!1,this.autoRotateSpeed=2,this.keys={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"},this.mouseButtons={LEFT:q.ROTATE,MIDDLE:q.DOLLY,RIGHT:q.PAN},this.touches={ONE:Q.ROTATE,TWO:Q.DOLLY_PAN},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this._domElementKeyEvents=null,this.getPolarAngle=function(){return i.phi},this.getAzimuthalAngle=function(){return i.theta},this.getDistance=function(){return this.object.position.distanceTo(this.target)},this.listenToKeyEvents=function(t){t.addEventListener("keydown",ue),this._domElementKeyEvents=t},this.stopListenToKeyEvents=function(){this._domElementKeyEvents.removeEventListener("keydown",ue),this._domElementKeyEvents=null},this.saveState=function(){e.target0.copy(e.target),e.position0.copy(e.object.position),e.zoom0=e.object.zoom},this.reset=function(){e.target.copy(e.target0),e.object.position.copy(e.position0),e.object.zoom=e.zoom0,e.object.updateProjectionMatrix(),e.dispatchEvent(je),e.update(),s=n.NONE},this.update=function(){const t=new P,o=new Ce().setFromUnitVectors(u.up,new P(0,1,0)),a=o.clone().invert(),c=new P,g=new Ce,H=new P,k=2*Math.PI;return function(ve=null){const xe=e.object.position;t.copy(xe).sub(e.target),t.applyQuaternion(o),i.setFromVector3(t),e.autoRotate&&s===n.NONE&&p(re(ve)),e.enableDamping?(i.theta+=E.theta*e.dampingFactor,i.phi+=E.phi*e.dampingFactor):(i.theta+=E.theta,i.phi+=E.phi);let S=e.minAzimuthAngle,R=e.maxAzimuthAngle;isFinite(S)&&isFinite(R)&&(S<-Math.PI?S+=k:S>Math.PI&&(S-=k),R<-Math.PI?R+=k:R>Math.PI&&(R-=k),S<=R?i.theta=Math.max(S,Math.min(R,i.theta)):i.theta=i.theta>(S+R)/2?Math.max(S,i.theta):Math.min(R,i.theta)),i.phi=Math.max(e.minPolarAngle,Math.min(e.maxPolarAngle,i.phi)),i.makeSafe(),e.enableDamping===!0?e.target.addScaledVector(T,e.dampingFactor):e.target.add(T),e.target.sub(e.cursor),e.target.clampLength(e.minTargetRadius,e.maxTargetRadius),e.target.add(e.cursor);let ne=!1;if(e.zoomToCursor&&Z||e.object.isOrthographicCamera)i.radius=F(i.radius);else{const I=i.radius;i.radius=F(i.radius*h),ne=I!=i.radius}if(t.setFromSpherical(i),t.applyQuaternion(a),xe.copy(e.target).add(t),e.object.lookAt(e.target),e.enableDamping===!0?(E.theta*=1-e.dampingFactor,E.phi*=1-e.dampingFactor,T.multiplyScalar(1-e.dampingFactor)):(E.set(0,0,0),T.set(0,0,0)),e.zoomToCursor&&Z){let I=null;if(e.object.isPerspectiveCamera){const ae=t.length();I=F(ae*h);const ie=ae-I;e.object.position.addScaledVector(se,ie),e.object.updateMatrixWorld(),ne=!!ie}else if(e.object.isOrthographicCamera){const ae=new P(j.x,j.y,0);ae.unproject(e.object);const ie=e.object.zoom;e.object.zoom=Math.max(e.minZoom,Math.min(e.maxZoom,e.object.zoom/h)),e.object.updateProjectionMatrix(),ne=ie!==e.object.zoom;const Oe=new P(j.x,j.y,0);Oe.unproject(e.object),e.object.position.sub(Oe).add(ae),e.object.updateMatrixWorld(),I=t.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),e.zoomToCursor=!1;I!==null&&(this.screenSpacePanning?e.target.set(0,0,-1).transformDirection(e.object.matrix).multiplyScalar(I).add(e.object.position):(ce.origin.copy(e.object.position),ce.direction.set(0,0,-1).transformDirection(e.object.matrix),Math.abs(e.object.up.dot(ce.direction))<mt?u.lookAt(e.target):(De.setFromNormalAndCoplanarPoint(e.object.up,e.target),ce.intersectPlane(De,e.target))))}else if(e.object.isOrthographicCamera){const I=e.object.zoom;e.object.zoom=Math.max(e.minZoom,Math.min(e.maxZoom,e.object.zoom/h)),I!==e.object.zoom&&(e.object.updateProjectionMatrix(),ne=!0)}return h=1,Z=!1,ne||c.distanceToSquared(e.object.position)>N||8*(1-g.dot(e.object.quaternion))>N||H.distanceToSquared(e.target)>N?(e.dispatchEvent(je),c.copy(e.object.position),g.copy(e.object.quaternion),H.copy(e.target),!0):!1}}(),this.dispose=function(){e.domElement.removeEventListener("contextmenu",Me),e.domElement.removeEventListener("pointerdown",ye),e.domElement.removeEventListener("pointercancel",oe),e.domElement.removeEventListener("wheel",Ee),e.domElement.removeEventListener("pointermove",le),e.domElement.removeEventListener("pointerup",oe),e.domElement.getRootNode().removeEventListener("keydown",we,{capture:!0}),e._domElementKeyEvents!==null&&(e._domElementKeyEvents.removeEventListener("keydown",ue),e._domElementKeyEvents=null)};const e=this,n={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let s=n.NONE;const N=1e-6,i=new Le,E=new Le;let h=1;const T=new P,w=new C,y=new C,f=new C,d=new C,m=new C,b=new C,x=new C,_=new C,D=new C,se=new P,j=new C;let Z=!1;const r=[],A={};let Y=!1;function re(t){return t!==null?2*Math.PI/60*e.autoRotateSpeed*t:2*Math.PI/60/60*e.autoRotateSpeed}function X(t){const o=Math.abs(t*.01);return Math.pow(.95,e.zoomSpeed*o)}function p(t){E.theta-=t}function v(t){E.phi-=t}const l=function(){const t=new P;return function(a,c){t.setFromMatrixColumn(c,0),t.multiplyScalar(-a),T.add(t)}}(),M=function(){const t=new P;return function(a,c){e.screenSpacePanning===!0?t.setFromMatrixColumn(c,1):(t.setFromMatrixColumn(c,0),t.crossVectors(e.object.up,t)),t.multiplyScalar(a),T.add(t)}}(),O=function(){const t=new P;return function(a,c){const g=e.domElement;if(e.object.isPerspectiveCamera){const H=e.object.position;t.copy(H).sub(e.target);let k=t.length();k*=Math.tan(e.object.fov/2*Math.PI/180),l(2*a*k/g.clientHeight,e.object.matrix),M(2*c*k/g.clientHeight,e.object.matrix)}else e.object.isOrthographicCamera?(l(a*(e.object.right-e.object.left)/e.object.zoom/g.clientWidth,e.object.matrix),M(c*(e.object.top-e.object.bottom)/e.object.zoom/g.clientHeight,e.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),e.enablePan=!1)}}();function K(t){e.object.isPerspectiveCamera||e.object.isOrthographicCamera?h/=t:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),e.enableZoom=!1)}function B(t){e.object.isPerspectiveCamera||e.object.isOrthographicCamera?h*=t:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),e.enableZoom=!1)}function z(t,o){if(!e.zoomToCursor)return;Z=!0;const a=e.domElement.getBoundingClientRect(),c=t-a.left,g=o-a.top,H=a.width,k=a.height;j.x=c/H*2-1,j.y=-(g/k)*2+1,se.set(j.x,j.y,1).unproject(e.object).sub(e.object.position).normalize()}function F(t){return Math.max(e.minDistance,Math.min(e.maxDistance,t))}function G(t){w.set(t.clientX,t.clientY)}function J(t){z(t.clientX,t.clientX),x.set(t.clientX,t.clientY)}function ee(t){d.set(t.clientX,t.clientY)}function V(t){y.set(t.clientX,t.clientY),f.subVectors(y,w).multiplyScalar(e.rotateSpeed);const o=e.domElement;p(2*Math.PI*f.x/o.clientHeight),v(2*Math.PI*f.y/o.clientHeight),w.copy(y),e.update()}function te(t){_.set(t.clientX,t.clientY),D.subVectors(_,x),D.y>0?K(X(D.y)):D.y<0&&B(X(D.y)),x.copy(_),e.update()}function U(t){m.set(t.clientX,t.clientY),b.subVectors(m,d).multiplyScalar(e.panSpeed),O(b.x,b.y),d.copy(m),e.update()}function Se(t){z(t.clientX,t.clientY),t.deltaY<0?B(X(t.deltaY)):t.deltaY>0&&K(X(t.deltaY)),e.update()}function Re(t){let o=!1;switch(t.code){case e.keys.UP:t.ctrlKey||t.metaKey||t.shiftKey?v(2*Math.PI*e.rotateSpeed/e.domElement.clientHeight):O(0,e.keyPanSpeed),o=!0;break;case e.keys.BOTTOM:t.ctrlKey||t.metaKey||t.shiftKey?v(-2*Math.PI*e.rotateSpeed/e.domElement.clientHeight):O(0,-e.keyPanSpeed),o=!0;break;case e.keys.LEFT:t.ctrlKey||t.metaKey||t.shiftKey?p(2*Math.PI*e.rotateSpeed/e.domElement.clientHeight):O(e.keyPanSpeed,0),o=!0;break;case e.keys.RIGHT:t.ctrlKey||t.metaKey||t.shiftKey?p(-2*Math.PI*e.rotateSpeed/e.domElement.clientHeight):O(-e.keyPanSpeed,0),o=!0;break}o&&(t.preventDefault(),e.update())}function me(t){if(r.length===1)w.set(t.pageX,t.pageY);else{const o=W(t),a=.5*(t.pageX+o.x),c=.5*(t.pageY+o.y);w.set(a,c)}}function pe(t){if(r.length===1)d.set(t.pageX,t.pageY);else{const o=W(t),a=.5*(t.pageX+o.x),c=.5*(t.pageY+o.y);d.set(a,c)}}function he(t){const o=W(t),a=t.pageX-o.x,c=t.pageY-o.y,g=Math.sqrt(a*a+c*c);x.set(0,g)}function Ie(t){e.enableZoom&&he(t),e.enablePan&&pe(t)}function Ne(t){e.enableZoom&&he(t),e.enableRotate&&me(t)}function fe(t){if(r.length==1)y.set(t.pageX,t.pageY);else{const a=W(t),c=.5*(t.pageX+a.x),g=.5*(t.pageY+a.y);y.set(c,g)}f.subVectors(y,w).multiplyScalar(e.rotateSpeed);const o=e.domElement;p(2*Math.PI*f.x/o.clientHeight),v(2*Math.PI*f.y/o.clientHeight),w.copy(y)}function be(t){if(r.length===1)m.set(t.pageX,t.pageY);else{const o=W(t),a=.5*(t.pageX+o.x),c=.5*(t.pageY+o.y);m.set(a,c)}b.subVectors(m,d).multiplyScalar(e.panSpeed),O(b.x,b.y),d.copy(m)}function ge(t){const o=W(t),a=t.pageX-o.x,c=t.pageY-o.y,g=Math.sqrt(a*a+c*c);_.set(0,g),D.set(0,Math.pow(_.y/x.y,e.zoomSpeed)),K(D.y),x.copy(_);const H=(t.pageX+o.x)*.5,k=(t.pageY+o.y)*.5;z(H,k)}function _e(t){e.enableZoom&&ge(t),e.enablePan&&be(t)}function Ye(t){e.enableZoom&&ge(t),e.enableRotate&&fe(t)}function ye(t){e.enabled!==!1&&(r.length===0&&(e.domElement.setPointerCapture(t.pointerId),e.domElement.addEventListener("pointermove",le),e.domElement.addEventListener("pointerup",oe)),!Xe(t)&&(Ue(t),t.pointerType==="touch"?Te(t):ze(t)))}function le(t){e.enabled!==!1&&(t.pointerType==="touch"?Fe(t):He(t))}function oe(t){switch(Ze(t),r.length){case 0:e.domElement.releasePointerCapture(t.pointerId),e.domElement.removeEventListener("pointermove",le),e.domElement.removeEventListener("pointerup",oe),e.dispatchEvent(Ae),s=n.NONE;break;case 1:const o=r[0],a=A[o];Te({pointerId:o,pageX:a.x,pageY:a.y});break}}function ze(t){let o;switch(t.button){case 0:o=e.mouseButtons.LEFT;break;case 1:o=e.mouseButtons.MIDDLE;break;case 2:o=e.mouseButtons.RIGHT;break;default:o=-1}switch(o){case q.DOLLY:if(e.enableZoom===!1)return;J(t),s=n.DOLLY;break;case q.ROTATE:if(t.ctrlKey||t.metaKey||t.shiftKey){if(e.enablePan===!1)return;ee(t),s=n.PAN}else{if(e.enableRotate===!1)return;G(t),s=n.ROTATE}break;case q.PAN:if(t.ctrlKey||t.metaKey||t.shiftKey){if(e.enableRotate===!1)return;G(t),s=n.ROTATE}else{if(e.enablePan===!1)return;ee(t),s=n.PAN}break;default:s=n.NONE}s!==n.NONE&&e.dispatchEvent(de)}function He(t){switch(s){case n.ROTATE:if(e.enableRotate===!1)return;V(t);break;case n.DOLLY:if(e.enableZoom===!1)return;te(t);break;case n.PAN:if(e.enablePan===!1)return;U(t);break}}function Ee(t){e.enabled===!1||e.enableZoom===!1||s!==n.NONE||(t.preventDefault(),e.dispatchEvent(de),Se(Ke(t)),e.dispatchEvent(Ae))}function Ke(t){const o=t.deltaMode,a={clientX:t.clientX,clientY:t.clientY,deltaY:t.deltaY};switch(o){case 1:a.deltaY*=16;break;case 2:a.deltaY*=100;break}return t.ctrlKey&&!Y&&(a.deltaY*=10),a}function we(t){t.key==="Control"&&(Y=!0,e.domElement.getRootNode().addEventListener("keyup",Pe,{passive:!0,capture:!0}))}function Pe(t){t.key==="Control"&&(Y=!1,e.domElement.getRootNode().removeEventListener("keyup",Pe,{passive:!0,capture:!0}))}function ue(t){e.enabled===!1||e.enablePan===!1||Re(t)}function Te(t){switch(ke(t),r.length){case 1:switch(e.touches.ONE){case Q.ROTATE:if(e.enableRotate===!1)return;me(t),s=n.TOUCH_ROTATE;break;case Q.PAN:if(e.enablePan===!1)return;pe(t),s=n.TOUCH_PAN;break;default:s=n.NONE}break;case 2:switch(e.touches.TWO){case Q.DOLLY_PAN:if(e.enableZoom===!1&&e.enablePan===!1)return;Ie(t),s=n.TOUCH_DOLLY_PAN;break;case Q.DOLLY_ROTATE:if(e.enableZoom===!1&&e.enableRotate===!1)return;Ne(t),s=n.TOUCH_DOLLY_ROTATE;break;default:s=n.NONE}break;default:s=n.NONE}s!==n.NONE&&e.dispatchEvent(de)}function Fe(t){switch(ke(t),s){case n.TOUCH_ROTATE:if(e.enableRotate===!1)return;fe(t),e.update();break;case n.TOUCH_PAN:if(e.enablePan===!1)return;be(t),e.update();break;case n.TOUCH_DOLLY_PAN:if(e.enableZoom===!1&&e.enablePan===!1)return;_e(t),e.update();break;case n.TOUCH_DOLLY_ROTATE:if(e.enableZoom===!1&&e.enableRotate===!1)return;Ye(t),e.update();break;default:s=n.NONE}}function Me(t){e.enabled!==!1&&t.preventDefault()}function Ue(t){r.push(t.pointerId)}function Ze(t){delete A[t.pointerId];for(let o=0;o<r.length;o++)if(r[o]==t.pointerId){r.splice(o,1);return}}function Xe(t){for(let o=0;o<r.length;o++)if(r[o]==t.pointerId)return!0;return!1}function ke(t){let o=A[t.pointerId];o===void 0&&(o=new C,A[t.pointerId]=o),o.set(t.pageX,t.pageY)}function W(t){const o=t.pointerId===r[0]?r[1]:r[0];return A[o]}e.domElement.addEventListener("contextmenu",Me),e.domElement.addEventListener("pointerdown",ye),e.domElement.addEventListener("pointercancel",oe),e.domElement.addEventListener("wheel",Ee,{passive:!1}),e.domElement.getRootNode().addEventListener("keydown",we,{passive:!0,capture:!0}),this.update()}}const ht=$=>{const u=new qe;u.background=new Qe("#F6F2EC");const L={width:1e3,height:1e3},e=new $e({canvas:$,antialias:!0}),n=new dt(e);n.setSize(L.width,L.height),n.domElement.style.color="#ffffff",n.domElement.style.backgroundColor="#000000";const s=new Je(16748544,1.5);s.position.set(1,1,1),u.add(s);const N=new et(1,32,32),i=new tt({color:2200782,shininess:100}),E=new ot(N,i);u.add(E);const h=new nt(75,L.width/L.height,.1,100);h.position.x=1,h.position.y=1,h.position.z=2,u.add(h);const T=new pt(h,$);T.enableDamping=!0,document.body.appendChild(n.domElement);const w=new at,y=()=>{const f=w.getElapsedTime();requestAnimationFrame(y);const d=Math.sin(f)*2,m=Math.sin(f)*Math.cos(f),b=Math.cos(f)*2;s.position.set(d,m,b),n.render(u,h)};y()},ft=ut("canvas",{class:"webgl"},null,-1),Pt=Object.assign({name:"ThreePage"},{__name:"ThreePage",setup($){return it(()=>{let u=document.querySelector("canvas.webgl");ht(u)}),(u,L)=>(ct(),rt(st,{class:"column full-height"},{default:lt(()=>[ft]),_:1}))}});export{Pt as default};
